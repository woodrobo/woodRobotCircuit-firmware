# woodRobotCircuit-firmware
趣味でロボコン的なロボットを動かす回路を作ろうプロジェクト（？）のファームウェアをまとめたリポジトリ。  
ロボコンや趣味のロボット製作等の参考にどうぞ。

## 規格概要  
RS485を用いた通信路でメインボード、モータードライバー等のデバイスが通信を行う。RS485のプロトコルはてけと～に作ったもので、アドレスを用いた多バイト通信をサポートしている。  
パソコンとメインボードはUSB通信を用いる。  
  
# 一般的なライブラリ  
  
## arduino_woodrs485  
wood_rs485をArduinoに適用したサンプルコード。  
書いてるけどまだ一度も試してない。近いうちに試します・・・。  
  
# 基板に対応したファームウェア  
  
## woodBoard-firmware  
メインボードwoodBoardのファームウェアで、FPU搭載マイコンのPIC32MZ EFファミリを使用している。  
  
## woodCurrentMD-firmware  
woodCurrentMDのファームウェアで、デュアルコアマイコンのdsPIC33CHを使用している。PWMを入力するとFETが熱々になる、また実装途中なので閲覧非推奨(ｶｽ)  
  
## woodCurrentMD2-firmware  
woodCurrentMD2のファームウェアで、デュアルコアマイコンのdsPIC33CHを使用している。マスターコアで通信やエンコーダ、ポテンショ読みを行い、スレーブコアで20kHz電流制御を行っている。  
  